

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Step 1: Sphinx extension &mdash; Docs Versions Menu 0.5.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="_static/mycss.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/docs-versions-menu.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Step 2: Deployment" href="deployment.html" />
    <link rel="prev" title="Getting Started" href="readme.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Docs Versions Menu
          

          
          </a>

          
            
            
              <div class="version">
                0.5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Step 1: Sphinx extension</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sphinx-themes">Sphinx themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#settings-in-conf-py">Settings in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Step 2: Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Program Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="folderspecs.html">Folder Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions_json.html"><code class="docutils literal notranslate"><span class="pre">versions.json</span></code> Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="related_software.html">Related software</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Docs Versions Menu</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Step 1: Sphinx extension</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="step-1-sphinx-extension">
<span id="sphinx-extension"></span><h1>Step 1: Sphinx extension<a class="headerlink" href="#step-1-sphinx-extension" title="Permalink to this headline">¶</a></h1>
<p>In your Documentation’s <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>, add <code class="docutils literal notranslate"><span class="pre">'docs_versions_menu'</span></code> to your
<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-extensions" title="(in Sphinx v6.0.0b3)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">extensions</span></code></a>.</p>
<p>That’s it.</p>
<p>See the Docs Versions Menu’s <a class="reference external" href="https://github.com/goerz/docs_versions_menu/blob/master/docs/conf.py"><code class="docutils literal notranslate"><span class="pre">conf.py</span></code></a> for an example.</p>
<p>This will inject a javascript file <code class="docutils literal notranslate"><span class="pre">docs-versions-menu.js</span></code> into every
generated page of the documentation that displays a versions menu when the
documentation is hosted on Github Pages (the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch of the project
repository). The contents of the menu is derived from a file <code class="docutils literal notranslate"><span class="pre">versions.json</span></code>
that must be present in the root of <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the versions menu will only appear when the documentation is
viewed at a Github Pages URL (<code class="docutils literal notranslate"><span class="pre">https://&lt;username&gt;.github.io/&lt;project&gt;/&lt;version&gt;/</span></code>)
and if a file <code class="docutils literal notranslate"><span class="pre">versions.json</span></code> is present in the <code class="docutils literal notranslate"><span class="pre">&lt;project&gt;</span></code> folder
(that is, the root of the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch).
It will not appear when viewing documentation locally.</p>
</div>
<div class="section" id="sphinx-themes">
<h2>Sphinx themes<a class="headerlink" href="#sphinx-themes" title="Permalink to this headline">¶</a></h2>
<p>For best results, use the <a class="reference external" href="https://sphinx-rtd-theme.readthedocs.io/">Read the Docs Sphinx Theme</a> (<code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code>).
This is the default theme for documentation hosted on <code class="docutils literal notranslate"><span class="pre">readthedocs.org</span></code> (RTD).
However, it can also be used when hosting documentation outside of RTD!</p>
<p>Especially for documentation that includes extensive reference (API) content,
the RTD theme provides a much better visual structure than Sphinx’ default <code class="docutils literal notranslate"><span class="pre">alabaster</span></code>
theme which is also used on this page <a class="footnote-reference brackets" href="#f1" id="id1">1</a>.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code>, the versions menu will be displayed as part of the
navigation bar on the left side of the screen (just like on RTD). For any other
Sphinx theme, the versions menu will be shown as a “badge” in the bottom right
corner of the page (like on this page; and, like for documentation hosted on
RTD that doesn’t use the default theme).</p>
<p>The theme is automatically detected based on the value of <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-html_theme" title="(in Sphinx v6.0.0b3)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_theme</span></code></a>
in the Sphinx <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file. If this is anything other than
<code class="docutils literal notranslate"><span class="pre">&quot;sphinx_rtd_theme&quot;</span></code>, the badge-style versions menu is used. This implies
that in addition to the javascript file <code class="docutils literal notranslate"><span class="pre">docs-versions-menu.js</span></code>, a
<code class="docutils literal notranslate"><span class="pre">badge_only.css</span></code> file as well as a number of <a class="reference external" href="https://fontawesome.com">Font Awesome</a> files will be
included in the generated documentation.</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">alabaster</span></code> theme is used here to serve as a self-test for a badge-style versions menu. A version of this documentation using the RTD theme is available through the versions menu.</p>
</dd>
</dl>
</div>
<div class="section" id="settings-in-conf-py">
<span id="sphinx-ext-customization"></span><h2>Settings in <code class="docutils literal notranslate"><span class="pre">conf.py</span></code><a class="headerlink" href="#settings-in-conf-py" title="Permalink to this headline">¶</a></h2>
<p>The settings for the Sphinx extensions are taken from a dict
<code class="docutils literal notranslate"><span class="pre">docs_versions_menu_conf</span></code> in Sphinx’ <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> configuration file.</p>
<p>The dict may contain the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">json_file</span></code> (str): The local (absolute) path to the json file that contains version information. Defaults to <code class="docutils literal notranslate"><span class="pre">/&lt;project&gt;/versions.json</span></code> with <code class="docutils literal notranslate"><span class="pre">&lt;project&gt;</span></code> dynamically set based on the current Github Pages URL (<code class="docutils literal notranslate"><span class="pre">https://&lt;username&gt;.github.io/&lt;project&gt;/&lt;version&gt;/...</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">github_project_url</span></code> (str): The full URL to the project on Github. By default, this is dynamically derived from the current Github Pages URL (see above).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current_folder</span></code> (str): The name of the current folder. By default, dynamically set to the <code class="docutils literal notranslate"><span class="pre">&lt;version&gt;</span></code> from the current Github Pages URL (see above).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">badge_only</span></code> (bool): Whether to render the version menu as a “badge” in the lower right corner (defaults to True unless <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-html_theme" title="(in Sphinx v6.0.0b3)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_theme</span></code></a> is <code class="docutils literal notranslate"><span class="pre">&quot;sphinx_rtd_theme&quot;</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">menu_title</span></code> (str): The label to be shown in to left corner of the full versions menu (if not <code class="docutils literal notranslate"><span class="pre">badge_only</span></code>). Defaults to “Docs”.</p></li>
</ul>
<p>Do not use the setting <code class="docutils literal notranslate"><span class="pre">badge_only=False</span></code> together with the
<code class="docutils literal notranslate"><span class="pre">sphinx_rtd_theme</span></code>. In order to avoid the <code class="docutils literal notranslate"><span class="pre">badge_only.css</span></code> and font files
being injected if you are using a completely custom template, do set <code class="docutils literal notranslate"><span class="pre">badge_only=False</span></code>
and supply your own CSS files e.g. in a <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-html_static_path" title="(in Sphinx v6.0.0b3)"><code class="xref std std-confval docutils literal notranslate"><span class="pre">html_static_path</span></code></a> folder.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="deployment.html" class="btn btn-neutral float-right" title="Step 2: Deployment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="readme.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Michael Goerz.
      <span class="lastupdated">
        Last updated on Nov 17, 2022.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>